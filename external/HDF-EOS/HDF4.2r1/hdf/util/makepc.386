# ****************************************************************************
# * NCSA HDF                                                                 *
# * Software Development Group                                               *
# * National Center for Supercomputing Applications                          *
# * University of Illinois at Urbana-Champaign                               *
# * 605 E. Springfield, Champaign IL 61820                                   *
# *                                                                          *
# * For conditions of distribution and use, see the accompanying             *
# * hdf/COPYING file.                                                        *
# *                                                                          *
# ***************************************************************************
#
# $Id: makepc.386,v 1.1 1994/10/06 20:06:14 koziol Exp $
#
#
UTILS = hdf24to8.exe hdfcomp.exe hdfls.exe hdfpack.exe hdftopal.exe &
    hdftor8.exe paltohdf.exe r8tohdf.exe ristosds.exe vcompat.exe vmake.exe &
    vshow.exe hdf8to24.exe hdf2jpeg.exe jpeg2hdf.exe

HEOBJ = he_main.obj he_cntrl.obj he_disp.obj he_file.obj
HELNK = he_main, he_cntrl, he_disp, he_file

#
# These values will typically be over ridden by values specified in
#   top level HDF
#

# ==> Uncomment the line with your system type on it.
#MACHINE = SUN
#MACHINE = UNICOS
#MACHINE = IRIS4
#MACHINE = APOLLO
#MACHINE = IBM6000
#MACHINE = CONVEX
#MACHINE = VMS
#MACHINE = MIPSEL
#MACHINE = MAC
MACHINE = PC386
#MACHINE = HP9000

RM=del
RMFLAGS=

HDFLIB = ..\lib
HDFINC = ..\include
HDFBIN = ..\bin

IFLAGS=   /i=$(HDFINC) /I.
LIBS= $(HDFLIB)\df.lib

CC=wcc386
CFLAGS=  /d$(MACHINE) /ms /w4 /Oneatx /s $(IFLAGS) /zc /ze

LN=wlink
#LNFLAGS=/COD /ST:6118

.c.obj:
    $(CC) $[@ $(CFLAGS)

all: hdfed.exe utils
    mkdir $(HDFBIN)
    cp *.exe $(HDFBIN)

nofortran: all

hdfed.exe: he.h he_proto.h $(HEOBJ)
    $(LN) $(LNFLAGS) NAME hdfed FILE $(HELNK) LIBRARY $(LIBS)

hdf24to8.exe : hdf24to8.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdfcomp.exe : hdfcomp.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdfls.exe : hdfls.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdfpack.exe : hdfpack.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdftopal.exe : hdftopal.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdftor8.exe : hdftor8.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

paltohdf.exe : paltohdf.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

r8tohdf.exe : r8tohdf.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdf8to24.exe : hdf8to24.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

hdf2jpeg.exe : hdf2jpeg.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

jpeg2hdf.exe : jpeg2hdf.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

ristosds.exe : ristosds.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

vcompat.exe : vcompat.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

vmake.exe : vmake.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

vshow.exe : vshow.obj
    $(LN) $(LNFLAGS) NAME $^@ FILE $[@ LIBRARY $(LIBS)

utils: $(UTILS)
    %null

clean:
    -$(RM) $(RMFLAGS) *.obj $(UTILS) hdfed.exe

